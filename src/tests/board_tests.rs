use crate::{board::Board, board_geometry_templates::Bitboard, enums::PieceColor};

#[test]
pub fn occupancy_test1() -> () {
    let mut test_board: Board = Board::set();
    test_board.white_occupancy();
    test_board.black_occupancy();
    test_board.total_occupancy();

    assert_eq!(
        test_board.white_occupancy.unwrap(),
        0b1111111111111111000000000000000000000000000000000000000000000000
    );
    assert_eq!(
        test_board.black_occupancy.unwrap(),
        0b0000000000000000000000000000000000000000000000001111111111111111
    );
    assert_eq!(
        test_board.total_occupancy.unwrap(),
        0b1111111111111111000000000000000000000000000000001111111111111111
    );
}

#[test]
pub fn occupancy_test2() -> () {
    let mut test_board: Board = Board {
        white_pawns: 0b0000000011010000001000000000000000000000000000000000000000000000,
        white_knights: 0b0000000000000000010000000000000000010000100000000000000000000000,
        white_bishops: 0b0100000000000000000000000000000000000000000000000000000000000000,
        white_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_king: 0b0000000000000000000000000000000100000000000000000000000000000000,
        black_pawns: 0b0000000000000000000000000000000000000000000000000101011000000000,
        black_knights: 0b0000000000000000000000000000000000000000000000000000000000100000,
        black_bishops: 0b0000000000000010100000000000000000000000000000000000000000000000,
        black_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_king: 0b0000000000000000000000000000000000000000000000000000000000000001,
        white_occupancy: None,
        black_occupancy: None,
        total_occupancy: None,
    };

    test_board.white_occupancy();
    test_board.black_occupancy();
    test_board.total_occupancy();

    assert_eq!(
        test_board.white_occupancy.unwrap(),
        0b0100000011010000011000000000000100010000100000000000000000000000
    );
    assert_eq!(
        test_board.black_occupancy.unwrap(),
        0b0000000000000010100000000000000000000000000000000101011000100001
    );
    assert_eq!(
        test_board.total_occupancy.unwrap(),
        0b0100000011010010111000000000000100010000100000000101011000100001
    );
}

#[test]
pub fn pawn_moves_test1() -> () {
    let mut test_board: Board = Board {
        white_pawns: 0b0000000011000000000000000000000000000000000000000000000000000000,
        white_knights: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_bishops: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_king: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_pawns: 0b0000000000000000100000000000000000000000000000000000000000000000,
        black_knights: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_bishops: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_king: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_occupancy: None,
        black_occupancy: None,
        total_occupancy: None,
    };
    test_board.white_occupancy();
    test_board.black_occupancy();
    test_board.total_occupancy();

    assert_eq!(
        test_board.white_pawn_moves(),
        0b0000000000000000110000000100000000000000000000000000000000000000
    );
    assert_eq!(
        test_board.black_pawn_moves(),
        0b0000000001000000000000000000000000000000000000000000000000000000
    );
}

#[test]
pub fn pawn_moves_test2() -> () {
    let mut test_board: Board = Board {
        white_pawns: 0b0000000000000000000000000000110000000000000000000000000000000000,
        white_knights: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_bishops: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_king: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_pawns: 0b0000000000000000000000000000000000010100000010000000000000000000,
        black_knights: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_bishops: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_king: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_occupancy: None,
        black_occupancy: None,
        total_occupancy: None,
    };
    test_board.white_occupancy();
    test_board.black_occupancy();
    test_board.total_occupancy();

    assert_eq!(
        test_board.white_pawn_moves(),
        0b0000000000000000000000000000000000011100000000000000000000000000
    );
    assert_eq!(
        test_board.black_pawn_moves(),
        0b0000000000000000000000000001100000001000000000000000000000000000
    );
}

#[test]
pub fn knight_moves_test1() -> () {
    let mut test_board: Board = Board {
        white_pawns: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_knights: 0b0000000101000000000000000000000000000000000010000000000000000000,
        white_bishops: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_king: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_pawns: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_knights: 0b0000000000000000000000000000000000000000000000000100000000000001,
        black_bishops: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_queens: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_rooks: 0b0000000000000000000000000000000000000000000000000000000000000000,
        black_king: 0b0000000000000000000000000000000000000000000000000000000000000000,
        white_occupancy: None,
        black_occupancy: None,
        total_occupancy: None,
    };
    test_board.white_occupancy();
    test_board.black_occupancy();
    test_board.total_occupancy();

    assert_eq!(
        test_board.knight_moves(PieceColor::Black),
        0b0000000000000000000000000000000010100000000100100000010000010000
    );
    assert_eq!(
        test_board.knight_moves(PieceColor::White),
        0b0001000000000100000100101011010000100010000000000010001000010100
    );
}
